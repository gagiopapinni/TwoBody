{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/js/Star.js","webpack:///./src/js/utils.js","webpack:///./src/js/Background.js","webpack:///./src/js/BackgroundStar.js","webpack:///./src/js/GravityGrid.js","webpack:///./src/js/Trajectory.js","webpack:///./src/js/Game.js","webpack:///./src/js/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","Star","ops","obj","kontra","Sprite","settings","x","y","velocity","direction","color","anchor","max_mass","mass","radius","resetting","reset_cb","reset_data","dx","dy","draggable","isBeingDragged","showVelocity","this","offset","position","Math","abs","val","dir","size","context","save","beginPath","globalAlpha","translate","rotate","PI","drawImage","imageAssets","arrow","moveTo","setLineDash","strokeStyle","lineTo","innerWidth","innerHeight","stroke","restore","gradient","createRadialGradient","addColorStop","fillStyle","arc","globalCompositeOperation","fill","shadowBlur","shadowColor","radiusForMass","hand","cb","data","cos","sin","star","sqrt","norm","Vector","a","pow","setMass","intersection","x1","y1","x2","y2","x3","y3","x4","y4","denominator","ua","ub","linePointDistance","x0","y0","canvas","getContext","stars","image","sx","sy","reset","W","width","H","height","splice","length","push","random","brightness","res","rand","probability","dec","inc","pickDirection","bg_star","w","h","gap","fillRect","render","vignette","update","GravityGrid","s1","s2","F","pulled_point","sign","curr_size","current","final_size","clamp","offset1","pullPointToStar","offset2","closePath","line","Trajectory","points","show","b","last","vectorDist","EventTarget","super","init","loop","GameLoop","window","bg","currentStar","state","showGrid","stickToMassCenter","showStarsTrajectory","resetPosition","parseInt","$","attr","trajectory_s1","trajectory_s2","grid","setupStarControls","on","hasClass","onStopClick","onPlayClick","onTrajectorySwitchClick","e","onGridSwitchClick","onStickSwitchClick","preventDefault","originalEvent","target","valueAsNumber","onResize","start","animate","opacity","store_name","getStoreItem","modal","setStoreItem","id","round","button","removeClass","addClass","undefined","touches","clientX","clientY","in_s1","collides","in_s2","hideVelocityControls","launchVelocityControlsFor","text","positionElement","cb_","ready","resetStars","unmark","dispatchEvent","CustomEvent","mark","play","isMarked","M","m_c","massCenter","pullTo","load","then","assets","catch","err","alert","console","log"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","\n\nfunction Star(ops){\n    let obj = kontra.Sprite({\n\n       settings: ops.settings || {x:0,y:0,velocity:{value:0,direction:0}},\n       x: ops.x || 0,  \n       y: ops.y || 0,\n       color: ops.color,\n\n       anchor: {x:0.5,y:0.5},\n       max_mass: ops.max_mass,\n       mass: null,\n       radius: null,\n\n       resetting:false,\n       reset_cb: null,\n       reset_data: null,\n\n       dx: 0, \n       dy: 0,\n\n       draggable: false,\n       isBeingDragged: false,\n       showVelocity: false,\n\n       render (){ \n\n          if(this.resetting){\n              let offset;\n              if(this.reset_data && this.reset_data.position)\n                  offset = {x:this.reset_data.position.x-this.x, y:this.reset_data.position.y-this.y}\n              else \n                  offset = {x:this.settings.x-this.x, y:this.settings.y-this.y};\n\n              if(Math.abs(offset.x) < .5) this.x += offset.x;\n              else this.x += offset.x/5;\n\n              if(Math.abs(offset.y) < .5) this.y += offset.y;\n              else this.y += offset.y/5;\n\n              if(!offset.x && !offset.y){\n                 this.resetting = false;\n                 if(this.reset_cb){\n                   this.reset_cb();\n                   this.reset_cb = this.reset_data = null;\n                 }\n              }\n          }\n\n          if(this.showVelocity){\n             const val = this.settings.velocity.value,\n                   dir = this.settings.velocity.direction;\n             let size = val?this.radius*1.5 + val*10:0;\n     \n             this.context.save();\n             this.context.beginPath();\n             this.context.globalAlpha = 0.7;\n             this.context.translate(this.x,this.y);\n             this.context.rotate(Math.PI/180*dir);\n             this.context.drawImage(kontra.imageAssets.arrow,0,-this.radius/2,size,this.radius);\n             this.context.moveTo(0,0);\n             this.context.setLineDash([10,10]);\n             this.context.strokeStyle = 'white';\n             this.context.lineTo(val?innerWidth+innerHeight:0,0);\n             this.context.stroke();\n\n             this.context.restore();\n          }\n          this.context.save();\n          let gradient;\n\n          gradient = this.context.createRadialGradient(this.x, this.y,0,this.x, this.y, this.radius*10);\n          gradient.addColorStop(0, this.color);//#####################or maybe 'white'?#######################\n          gradient.addColorStop(1, 'rgba(225,225,255,0)');\n          this.context.globalAlpha = 0.1\n          this.context.fillStyle = gradient;\n          this.context.beginPath();\n          this.context.arc(this.x, this.y, this.radius*100, 0, 2  * Math.PI);\n          this.context.globalCompositeOperation = 'luminosity';\n          this.context.fill();\n          this.context.globalCompositeOperation = 'source-over';\n\n          this.context.globalAlpha = 1\n          this.context.fillStyle = this.color;\n          this.context.beginPath();\n          this.context.arc(this.x, this.y, this.radius, 0, 2  * Math.PI);\n          this.context.shadowBlur = this.radius*0.2;\n          this.context.shadowColor = this.color;\n          this.context.fill();\n     \n          gradient = this.context.createRadialGradient(this.x,this.y,this.radius*0.6, this.x,this.y,this.radius);\n          gradient.addColorStop(1, \"rgba(225,225,225,\"+.8*(this.radius/this.radiusForMass(this.max_mass))+\")\");\n          gradient.addColorStop(0, \"rgba(225,225,225,\"+(this.radius/this.radiusForMass(this.max_mass))+\")\");\n\n\n          this.context.fillStyle = gradient;\n          this.context.beginPath();\n          this.context.arc(this.x, this.y, this.radius, 0, 2  * Math.PI);\n          this.context.fill();\n\n          this.context.restore();\n\n          if(this.draggable){\n             this.context.drawImage(kontra.imageAssets.hand,this.x,this.y,this.radius,this.radius);\n          }\n  \n \n\n\n          \n       },\n       \n       \n       reset(cb,data){\n          if(cb) this.reset_cb = cb;\n          if(data) this.reset_data = data;\n          this.resetting = true;\n          this.dx = this.dy = 0;\n       },\n\n       play(){\n          const val = this.settings.velocity.value,\n                dir = this.settings.velocity.direction;\n\n          this.dx = val  * Math.cos(Math.PI*dir/180);\n          this.dy = val  * Math.sin(Math.PI*dir/180);      \n       },\n\n       setMass(mass){    \n          this.mass = mass || 1;\n          this.radius = this.radiusForMass(this.mass);\n       },   \n\n       radiusForMass(mass){ return (mass/100+20); },\n \n       collides(star){\n           let r = [this.x-star.x,this.y-star.y],\n               len = Math.sqrt(r[0]*r[0]+r[1]*r[1]);\n\n           if(len<=this.radius+star.radius) return true;\n           return false;       \n       },\n\n       pullTo(star){\n           let norm = kontra.Vector(star.x-this.x, star.y-this.y).norm();\n    \n           let a = star.mass/Math.pow( Math.sqrt(Math.pow(this.x-star.x,2)+Math.pow(this.y-star.y,2)), 2);\n\n           this.dx += norm.x*a; \n           this.dy += norm.y*a;\n       }\n\n\n   });\n\n   obj.setMass(ops.mass || 0);\n\n   return obj;\n\n}\n\nexport { Star };\n  \n","kontra.Vector.prototype.size = function (){\n     return Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2));\n}\nkontra.Vector.prototype.norm = function  (){\n     let size = this.size();\n     return {x: this.x/size, y: this.y/size};\n}\nkontra.Vector.intersection = function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n           // line intercept math by Paul Bourke http://paulbourke.net/geometry/pointlineplane/\n          // Determine the intersection point of two line segments\n         // Return FALSE if the lines don't intersect\n        // Check if none of the lines are of length 0\n\tif ((x1 === x2 && y1 === y2) || (x3 === x4 && y3 === y4)) {\n\t\treturn false\n\t}\n\tlet denominator = ((y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1))\n        // Lines are parallel\n\tif (denominator === 0) {\n\t\treturn false\n\t}\n\tlet ua = ((x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3)) / denominator\n\tlet ub = ((x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3)) / denominator\n        // is the intersection along the segments\n\tif (ua < 0 || ua > 1 || ub < 0 || ub > 1) {\n\t\treturn false\n\t}\n        // Return a object with the x and y coordinates of the intersection\n\tlet x = x1 + ua * (x2 - x1)\n\tlet y = y1 + ua * (y2 - y1)\n\treturn {x, y}\n}\nkontra.Vector.linePointDistance = function  (x1,y1,x2,y2,x0,y0){\n    return Math.abs( (y2-y1)*x0 - (x2-x1)*y0 + x2*y1 - y2*x1 )/Math.sqrt( Math.pow(y2-y1,2)+Math.pow(x2-x1,2) );\n}\n\nexport default {};\n","import {BackgroundStar} from \"./BackgroundStar\"\n\nclass Background {\n     constructor(canvas){\n     \n          this.canvas = canvas;\n          this.context = canvas.getContext('2d');\n\n          this.color = 'black';\n          this.stars = [];\n          this.image = kontra.imageAssets.stars,\n          this.sx = null;\n          this.sy = null;\n         \n          this.reset();      \n\n     }\n     reset(){\n          const W = this.canvas.width;\n          const H = this.canvas.height;\n        \n\n          this.stars.splice(0,this.stars.length);\n          for(let i =0;i<10;i++) \n              this.stars.push(BackgroundStar({ x:Math.random()*W,\n                                               y:Math.random()*H }))\n\n          let w = 2048, h = 1024;\n          let cx = w/2, cy = h/2;\n          if(w<=W || h<=H)\n             this.sx = this.sy = 0;\n          else{\n             let gap = { x:w-W, y:h-H };\n             this.sx = Math.random()* ( gap.x*1/3 ) + gap.x*1/3;\n             this.sy = Math.random()* ( gap.y*1/3 ) + gap.y*1/3;\n          }\n     }\n     render(){\n          const W = this.canvas.width;\n          const H = this.canvas.height;\n\n          this.context.fillStyle = this.color;\n          this.context.fillRect(0,0,W,H);\n\n          this.context.drawImage(this.image,this.sx,this.sy,W,H,0,0,W,H);\n\n          for(let i of this.stars) i.render();\n\n          this.context.globalAlpha = 0.6;\n          this.context.drawImage(kontra.imageAssets.vignette,0,0,W,H);\n          this.context.globalAlpha = 1;\n     }\n     update(){\n          for(let i of this.stars) i.update(); \n     }\n  \n}\n\nexport {Background};\n\n\n","\n\n\nfunction BackgroundStar(ops){\n    let obj = kontra.Sprite({\n       x: ops.x || 0,  \n       y: ops.y || 0,\n       color: 'white',\n\n       anchor: {x:0.5,y:0.5},\n       radius:Math.random()* (20-15) + 15,\n\n       brightness: 50,\n \n       p:{ \n           'dec':{ 'dec':0.8,'same':.2,'inc':.0},\n           'inc':{ 'inc':0.8,'same':.2,'dec':.0},\n           'same':{ 'same':0.9,'dec':.05,'inc':.05}\n         },\n     \n      // probability: { dec:0.4, same:0.1, inc:0.4},\n       dir : 'same',\n  \n       pickDirection(){\n          let res = null;//inc/dec/same\n          let rand = Math.random();\n  \n          let probability = this.p[this.dir];        \n\n          if(rand < probability.dec) res = 'dec';\n          else if(rand > 1-probability.inc) res = 'inc';\n               else res = 'same';\n\n          this.dir = res;\n\n       },\n       update (){          \n          this.pickDirection();\n          if(this.dir === 'dec') this.brightness-=0.5;\n          if(this.dir === 'inc') this.brightness+=0.5;\n\n          if(this.brightness>100) this.brightness=100; ;\n          if(this.brightness<0) this.brightness=0; ;\n\n\n       },\n       render (){ \n          \n          this.context.save();\n       /*   let gradient;\n        \n          gradient = this.context.createRadialGradient(this.x, this.y,0,this.x, this.y, this.radius*10);\n          gradient.addColorStop(0, 'blue');//#####################or maybe 'white'?#######################\n          gradient.addColorStop(1, 'rgba(225,225,255,0)');\n\n          this.context.globalAlpha = 0.1\n          this.context.fillStyle = gradient;\n          this.context.beginPath();\n          this.context.arc(this.x, this.y, this.radius*100, 0, 2  * Math.PI);\n          this.context.fill();\n        \n          this.context.globalAlpha = 1* (this.brightness/100);\n          this.context.fillStyle = this.color;\n          this.context.beginPath();\n          this.context.arc(this.x, this.y, this.radius, 0, 2  * Math.PI);\n          this.context.shadowBlur = this.radius*0.2;\n          this.context.shadowColor = this.color;\n          this.context.fill();\n     \n          gradient = this.context.createRadialGradient(this.x,this.y,this.radius*0.6, this.x,this.y,this.radius);\n          gradient.addColorStop(1, \"white\");\n          gradient.addColorStop(0, \"white\");\n          this.context.fillStyle = gradient;\n          this.context.beginPath();\n          this.context.arc(this.x, this.y, this.radius, 0, 2  * Math.PI);\n          this.context.fill();*/\n          this.context.globalAlpha = 1* (this.brightness/100);\n\n          let r = this.radius* (this.brightness/100);\n    this.context.globalCompositeOperation = 'luminosity';\n          this.context.drawImage(kontra.imageAssets.bg_star,this.x-r/2,this.y-r/2,r,r);\n          this.context.globalCompositeOperation = 'source-over';\n\n\n          this.context.globalAlpha = 1;\n          this.context.restore();\n          \n       },\n\n     \n\n\n   });\n//console.clear();\n//\n/*\n   obj.probability.same = 0.3//Math.random();\n   obj.probability.inc = (1-obj.probability.same)*Math.random();\n   obj.probability.dec = 1- obj.probability.same -  obj.probability.inc;*/\n // setInterval(()=>{obj.pickDirection();},5000);\n  //console.log(obj.probability);\n   return obj;\n\n}\n  \n\nexport {BackgroundStar};\n","\n\nclass GravityGrid{\n    constructor(s1,s2,canvas,color){\n        this.color = color;\n        this.canvas = canvas;\n        this.context = canvas.getContext(\"2d\");\n        this.s1 = s1;\n        this.s2 = s2;\n    }\n\n    pullPointToStar(x,y,s){\n        let r = kontra.Vector( s.x-x, s.y-y );\n        let F = kontra.Vector(\n                          s.mass/(r.size()*.7) * r.norm().x,\n                          s.mass/(r.size()*.7) * r.norm().y )\n                     \n        let offset = kontra.Vector(0,0) ;\n        offset.x += F.x;\n        offset.y += F.y;\n\n        let pulled_point ={x:x+offset.x,y:y+offset.y,radius:0};             \n\n        if( Math.sign(s.x-x) != Math.sign(s.x-pulled_point.x) ||\n            Math.sign(s.y-y) != Math.sign(s.y-pulled_point.y)  ){ \n                                   \n                    offset.x = s.x-x;\n                    offset.y = s.y-y;\n\n        }\n        return offset;\n    }\n\n    line(x0,y0,x1,y1,color = \"black\"){\n        const step = 10;\n        let current = new kontra.Vector(0,0),\n            dir = (new kontra.Vector(x1-x0,y1-y0)).norm(),\n            final_size = new kontra.Vector(x1-x0,y1-y0).size();\n\n        current.clamp(current.x,current.y,x1-x0 ,y1-y0  );\n        this.context.strokeStyle = color;\n        this.context.beginPath();\n\n        let curr_size;\n        while((curr_size=current.size()) != final_size){\n             if(curr_size){\n               current.x+= step*dir.x;\n               current.y+= step*dir.y;\n             }\n\n             let offset1 = this.pullPointToStar(x0+current.x,y0+current.y,this.s1);\n             let offset2 = this.pullPointToStar(x0+current.x,y0+current.y,this.s2);\n\n             let pulled_point =  { x:x0+current.x+(offset1.x+offset2.x),\n                                   y:y0+current.y+(offset1.y+offset2.y) };\n\n\n             \n             let intersection = kontra.Vector.intersection(this.s1.x,this.s1.y,\n                                                           this.s2.x,this.s2.y,\n                                                           pulled_point.x,pulled_point.y,\n                                                           x0+current.x,y0+current.y);\n             //to decrease distortions\n             if(intersection) pulled_point = intersection;\n\n             this.context.lineTo(pulled_point.x,pulled_point.y); \n\n\n             if(!curr_size){\n               current.x+= step*dir.x;\n               current.y+= step*dir.y;\n             }\n        }\n            \n           \n        this.context.stroke();   \n        this.context.closePath();\n    }\n\n    render(){\n        let step = 40, color = this.color,\n            W = this.canvas.width, H = this.canvas.height;\n\n        for(let x = 0;x<W;x+=step)\n             this.line(x,0,x,H,color);\n        this.line(W,0,W,H,color);\n\n        for(let y = 0;y<H;y+=step)\n             this.line(0,y,W,y,color);\n        this.line(0,H,W,H,color);\n\n    }\n\n    update(){}\n\n}\n\nexport {GravityGrid};\n","\n\nclass Trajectory {\n      constructor(obj,canvas,color){\n         this.canvas = canvas;\n         this.context = canvas.getContext('2d');\n         this.points = [];\n         this.color = color;\n         this.show = false;\n         this.obj = obj;\n      }\n     \n      vectorDist(x1,y1,x2,y2){\n         return Math.sqrt((x1-x2)*(x1-x2)+(y1-y2)*(y1-y2));\n      }\n\n      render(){\n         if(!this.points.length) return;\n\n         this.context.save();\n         this.context.strokeStyle = this.color;\n         for(let i = 1;i<this.points.length;i++){\n             let a = this.points[i-1],\n                 b = this.points[i];\n             this.context.beginPath();\n             this.context.globalAlpha = i/this.points.length; \n             this.context.moveTo(a[0],a[1]);\n             this.context.lineTo(b[0],b[1]);\n             this.context.stroke();\n         }\n         this.context.restore();\n\n      }\n       \n      update(){\n         if(!this.show){\n            if(this.points.length) this.points.splice(0,5);\n         }else{\n            const last = this.points[this.points.length-1] || [this.obj.x+100,this.obj.y+100];\n            if( this.vectorDist(this.obj.x, this.obj.y, last[0], last[1]) > 2 )\n                 this.points.push([this.obj.x, this.obj.y]);\n            if(this.points.length>500) this.points.splice(0,1);\n         }\n      }\n   \n}\n\nexport {Trajectory}\n","\nconst pow = Math.pow,\n      sqrt = Math.sqrt,\n      sign = Math.sign, \n      abs = Math.abs;\n\nimport {utils} from './utils.js'\nimport {Star} from './Star.js'\nimport {Background} from './Background.js'\nimport {GravityGrid} from './GravityGrid.js'\nimport {Trajectory} from './Trajectory.js'\n\nclass Game  extends EventTarget {\n\n    constructor(){\n       super();\n       const { canvas, context } = kontra.init();\n       this.canvas = canvas;\n       this.context = context;\n       this.loop = kontra.GameLoop({update:()=>this.update(), render:()=>this.render() });\n\n       const W = this.W = canvas.width = window.innerWidth,\n             H = this.H = canvas.height = window.innerHeight;\n\n       this.bg = new Background(canvas);     \n\n\n       this.currentStar = '';\n       this.state = '';//play//stopping//stop\n       this.showGrid = false;\n       this.stickToMassCenter = false;\n       this.showStarsTrajectory = false;\n\n       let gap = 80;\n       this.s1 = Star({\n            settings:{\n                   x: W/2+gap,  \n                   y: H/2,\n                   velocity: {value:3, direction:90},\n                   resetPosition: ()=>{ this.s1.settings.x = this.W/2+gap;\n                                        this.s1.settings.y = this.H/2; },\n            },\n            x:  W/2+gap*3,  \n            y: -H,\n            color: 'red',  \n            mass: 3000,\n            max_mass: parseInt($(\"#mass_s1\").attr(\"max\")),\n          });\n\n       this.s2 = Star({\n            settings:{\n                   x: W/2-gap,  \n                   y: H/2,\n                   velocity: {value:3, direction:270},\n                   resetPosition: ()=>{ this.s2.settings.x = this.W/2-gap;\n                                        this.s2.settings.y = this.H/2; },\n\n            },\n            x: W/2-gap*3,  \n            y: -3*H,\n            color: 'orange',  \n            mass: 3000,\n            max_mass: parseInt($(\"#mass_s2\").attr(\"max\")),\n          });\n\n       this.trajectory_s1 = new Trajectory(this.s1,this.canvas,this.s1.color);\n       this.trajectory_s2 = new Trajectory(this.s2,this.canvas,this.s2.color);\n\n       this.grid = new GravityGrid(this.s1,this.s2,this.canvas,'white');\n\n       $(\"#mass_s1\").val(this.s1.mass);\n       $(\"#mass_s2\").val(this.s2.mass);\n\n       this.setupStarControls(); \n\n       $(\"#play_stop\").on('click touchstart',()=>{\n           if($(\"#play_span\").hasClass(\"d-none\")) this.onStopClick(); \n           else this.onPlayClick();\n       });\n\n       $(\"#trajectory\").on(\"click touchstart\",()=>this.onTrajectorySwitchClick());\n       $(\"#grid\").on(\"click touchstart\",e=>this.onGridSwitchClick(e));\n       $(\"#stick\").on(\"click touchstart\",()=>this.onStickSwitchClick());\n       $(\"#play_stop,#grid,#stick,#trajectory\").on('touchstart',e=>e.preventDefault());\n\n       $(\"#mass_s1\").on('input',(e)=>this.s1.setMass(e.originalEvent.target.valueAsNumber));\n       $(\"#mass_s2\").on('input',(e)=>this.s2.setMass(e.originalEvent.target.valueAsNumber)); \n       $(window).on('resize',()=>this.onResize());\n       this.start();\n \n          /*$(this.canvas).css('opacity',1)\n            $('.controls').css('opacity',1)\n            this.onStopClick()\n            this.loop.start();*/\n       \n    }\n    start(){\n       \n       this.loop.start();\n       $(this.canvas).animate({opacity:1},2000,()=>{\n\n              this.onStopClick(null,()=>{\n                   $(\".controls\").animate({opacity:1},1000)\n                \n                   const store_name = \"binary-star-system-simulator-visited\";\n                   const visited = kontra.getStoreItem(store_name);  \n\n                   if(!visited) $(\"#greeting\").modal(\"toggle\");\n                   kontra.setStoreItem(store_name,true);  \n                  \n              });              \n       })\n    }\n    positionElement(id,x,y){\n       $(id).attr(\"style\",\"top:\"+Math.round(y)+\"px;left:\"+Math.round(x)+\"px;\");\n    }\n    mark(button){\n       $(button).removeClass(\"btn-dark\");\n       $(button).addClass(\"btn-danger\"); \n    }  \n    isMarked(button){\n       return $(button).hasClass(\"btn-danger\");\n    } \n    unmark(button){\n       $(button).removeClass(\"btn-danger\");\n       $(button).addClass(\"btn-dark\"); \n    } \n    setupStarControls(){\n       $(\"canvas\").on(\"mousedown touchstart\",e=>{\n                      if(this.state === 'play') return;\n                      e = e.originalEvent;\n\n                      const x = e.x!=undefined?e.x:e.touches[0].clientX,\n                            y = e.y!=undefined?e.y:e.touches[0].clientY;\n\n                      let in_s1 = this.s1.collides({x:x,y:y,radius:0}),\n                          in_s2 = this.s2.collides({x:x,y:y,radius:0});\n\n                      this.hideVelocityControls(); \n                      this.currentStar = '';\n\n                      if(in_s2) this.currentStar = this.s2;\n                      if(in_s1) this.currentStar = this.s1;\n                           \n                      if(this.currentStar){\n                           this.currentStar.draggable = true; \n                           this.launchVelocityControlsFor(this.currentStar);\n                      }\n\n\n       });\n       $(\"canvas\").on(\"mouseup touchend\",e=>{\n                      if(this.currentStar)\n                            this.currentStar.draggable = false;\n                      \n       });\n       $(\"canvas\").on(\"mousemove touchmove\",(e)=>{\n                      e = e.originalEvent;\n                      const x = e.x!=undefined?e.x:e.touches[0].clientX,\n                            y = e.y!=undefined?e.y:e.touches[0].clientY;\n       \n                      if(this.currentStar && this.currentStar.draggable){\n                            this.hideVelocityControls(); \n\n                            this.currentStar.x = x;\n                            this.currentStar.y = y;\n\n                            if(this.s1.collides(this.s2)){\n                               this.currentStar.x = this.currentStar.settings.x;\n                               this.currentStar.y = this.currentStar.settings.y;\n                            }else{\n                               this.currentStar.settings.x = this.currentStar.x;\n                               this.currentStar.settings.y = this.currentStar.y;\n                            }\n                      }\n       });\n       $(\"#velocity_value,#velocity_direction\").on(\"input\",()=>{\n              let val = $(\"#velocity_value\").val(),\n                 dir = $(\"#velocity_direction\").val();\n              $(\"#velocity_value_label\").text(\"value: \"+val);\n              this.currentStar.settings.velocity = { value:parseInt(val),\n                                                     direction:parseInt(dir) };\n       });\n    }\n    \n    hideVelocityControls(){\n       $(\"#velocity\").addClass(\"d-none\");\n       this.s1.showVelocity = this.s2.showVelocity = false; \n    }\n\n    launchVelocityControlsFor(star){\n       this.positionElement(\"#velocity\",this.currentStar.x-$(\"#velocity\").width()/2,this.currentStar.y+this.currentStar.radius);\n       $(\"#velocity_value\").val(star.settings.velocity.value);\n       $(\"#velocity_value_label\").text(\"value: \"+star.settings.velocity.value);\n       $(\"#velocity_direction\").val(star.settings.velocity.direction);\n       $(\"#velocity\").removeClass(\"d-none\");\n       star.showVelocity = true;\n    }\n    \n    resetStars(cb_){\n       let ready = {s1:false,s2:false};\n       let cb = (name)=>{\n           ready[name] = true;\n           if(!ready.s1 || !ready.s2) return;\n           if(cb_) cb_();\n       }\n       this.s1.reset(()=>cb('s1'));\n       this.s2.reset(()=>cb('s2'));\n\n    }\n\n    onStopClick(e,cb){\n       if(this.state === 'stopping') return;\n       this.state = 'stopping';\n\n       if(this.showStarsTrajectory) this.onTrajectorySwitchClick();\n       if(this.stickToMassCenter) this.onStickSwitchClick();\n       this.resetStars(()=>{ \n                             $(\"#play_span\").removeClass(\"d-none\");\n                             $(\"#stop_span\").addClass(\"d-none\");        \n                             this.unmark(\"#play_stop\");\n\n                             this.state = 'stop';\n                             this.dispatchEvent(new CustomEvent('onStateStop'));  \n                             if(cb) cb();\n                           })\n\n       this.dispatchEvent(new CustomEvent('onStateStopping'));  \n       \n    }\n    onPlayClick(){\n       if(this.state!='stop') return;\n\n       this.hideVelocityControls();\n       $(\"#play_span\").addClass(\"d-none\");\n       $(\"#stop_span\").removeClass(\"d-none\");\n       this.mark(\"#play_stop\");\n       this.state = 'play';\n\n       this.s1.play();\n       this.s2.play();\n       this.dispatchEvent(new CustomEvent(\"onStatePlay\"));\n\n    }\n\n    onGridSwitchClick(){\n\n       if(!this.isMarked(\"#grid\")){ \n\n           this.showGrid = true;\n           this.mark(\"#grid\");\n       }\n       else{\n           this.showGrid = false;\n           this.unmark(\"#grid\");\n       }\n\n    }\n\n    onStickSwitchClick(){\n       this.hideVelocityControls();\n\n       if(!this.isMarked(\"#stick\")){ \n\n           this.stickToMassCenter = true;\n           this.mark(\"#stick\");\n                   \n       }\n       else{\n           this.stickToMassCenter = false;\n           this.unmark(\"#stick\");\n  \n           if(this.state === 'stop') this.resetStars();\n       }\n    }\n \n    onTrajectorySwitchClick(){\n       if(!this.isMarked(\"#trajectory\")){ \n\n           this.showStarsTrajectory = true;\n           this.mark(\"#trajectory\"); \n         //  if(this.state === 'play')       \n              this.trajectory_s1.show = this.trajectory_s2.show = true;\n       /*    else\n              this.addEventListener(\"onStatePlay\",\n                                    ()=>{this.trajectory_s1.show = this.trajectory_s2.show = this.showStarsTrajectory;},\n                                    {once:true})*/\n       }\n       else{\n           this.trajectory_s1.show = this.trajectory_s2.show = this.showStarsTrajectory = false;\n           this.unmark(\"#trajectory\");\n       }\n\n    }\n    onResize(){\n\n       this.W = this.canvas.width = window.innerWidth;\n       this.H = this.canvas.height = window.innerHeight;\n\n       this.bg.reset();\n\n       this.s1.settings.resetPosition();\n       this.s2.settings.resetPosition();\n\n       if(this.state) this.onStopClick();\n\n    }\n\n    massCenter(){\n\n       let M = this.s1.mass+this.s2.mass;\n       return new kontra.Vector((this.s1.mass*this.s1.x+this.s2.mass*this.s2.x)/M,\n                                (this.s1.mass*this.s1.y+this.s2.mass*this.s2.y)/M);\n    }\n\n    update() { \n       this.bg.update();\n\n       this.trajectory_s1.update();\n       this.trajectory_s2.update();\n\n       this.s1.update();\n       this.s2.update();\n\n       if(this.stickToMassCenter && this.state != 'stopping' && !this.s1.resetting && !this.s2.resetting){\n          \n          let m_c = this.massCenter();\n\n          for(let s of [this.s1,this.s2]){\n             let offset = new kontra.Vector(this.W/2-m_c.x,this.H/2-m_c.y);\n \n             if(abs(offset.x) < 1) s.x+=offset.x;\n             else s.x+=offset.x/10;\n\n             if(abs(offset.y) < 1) s.y+=offset.y;\n             else s.y+=offset.y/10;\n          }\n\n       }\n\n       if(this.state === 'play'){\n          if(this.s1.collides(this.s2)){\n             this.s1.dx=this.s1.dy=this.s2.dx=this.s2.dy=0;\n          }else{\n             this.s1.pullTo(this.s2);\n             this.s2.pullTo(this.s1);\n          }\n       }\n\n    }\n\n    render() { \n       this.bg.render()\n      \n       if(this.showGrid) this.grid.render(); \n\n       this.trajectory_s1.render();\n       this.trajectory_s2.render();  \n\n       this.s1.render();\n       this.s2.render();         \n    }\n\n}\n\nexport { Game };\n","\nlet { load } = kontra\nimport { Game } from \"./Game.js\";\n\n$(window).on(\"load\",()=>{\n\n         load('./src/img/hand.png',\n              './src/img/arrow.png',\n              './src/img/stars.jpg',\n              './src/img/vignette.png',\n              './src/img/bg_star.png',\n         ).then(function(assets) {\n             kontra.imageAssets[\"hand\"] =  kontra.imageAssets[\"./src/img/hand.png\"];\n             kontra.imageAssets[\"arrow\"] =  kontra.imageAssets[\"./src/img/arrow.png\"];\n             kontra.imageAssets[\"stars\"] =  kontra.imageAssets[\"./src/img/stars.jpg\"];\n             kontra.imageAssets[\"vignette\"] =  kontra.imageAssets[\"./src/img/vignette.png\"];\n             kontra.imageAssets[\"bg_star\"] =  kontra.imageAssets[\"./src/img/bg_star.png\"];\n\n\n             $(\"#preloader\").addClass(\"d-none\");\n             new Game();\n\n         }).catch(function(err) {\n             alert(\"asset load error ...hell no..\") ;  console.log(err);\n             throw err;\n\n         });\n\n})\n\n\n"],"sourceRoot":""}